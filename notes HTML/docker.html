<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./dist/css/main.css" />
        <script src="./js/practice.js" defer></script>

        <title>Learning</title>
    </head>
    <body>
        <header>
            <h1>Learning</h1>
            <nav>
                <a href="index.html">Home</a>
                <a href="js.html">JS</a>
                <a href="node.html">Node & Packages</a>
                <a href="react.html">React</a>
                <a href="express.html">Express</a>
                <a href="mongo.html">MongoDB</a>
                <a href="css.html">CSS</a>
                <a href="linux.html">Linux</a>
                <a href="webserver.html">Web-Server</a>
                <a href="docker.html" class="active">Docker</a>
                <a href="ideas.html">Ideas</a>
                <a href="jsAlgoDS.html">JS Algo & DS</a>
                <a href="typescript.html">TypeScript</a>
            </nav>
        </header>
        <main>
            <h1>Docker Notes </h1>
            <br />
            <p>
                >sudo usermod -aG docker linuxUser (to run docker without 'sudo'
                ; restart computer after this command)
            </p>
            <br />
            <p> >docker (to see all commands of docker) </p>
            <br />
            <p> >docker image ls (to see all details of all containers) </p>
            <br />
            <p> >docker search imageName </p>
            <br />
            <p> >docker pull imageName </p>
            <br />
            <p> >docker images </p>
            <br />
            <p>
                >docker run imageName
                <br />
                #docker run = docker create + docker start
            </p>
            <br />
            <p>
                >docker run --detach imageName (to run docker container in
                background; shorthand -d)
            </p>
            <br />
            <p> >docker ps </p>
            <br />
            <p> >docker ps --all </p>
            <br />
            <p> >docker logs container </p>
            <br />
            <p> >docker history imageName </p>
            <br />
            <p>
                >docker container stats (to see live performance data of all the
                containers)
            </p>
            <br />
            <p> >docker rm container-id </p>
            <br />
            <p>
                >docker stop imageName #shut container down safely (The main
                process inside the container will receive SIGTERM, and after a
                grace period, SIGKILL.)
            </p>
            <br />
            <p> >docker kill imageName #shut container down forcefully </p>
            <br />
            <p>
                >docker system prune #removes all Remove all unused containers,
                networks, images (both dangling and unreferenced), and
                optionally, volumes.
            </p>
            <br />
            <p> >docker restart container-id </p>
            <br />
            <p> Getting a Shell inside container </p>
            <br />
            <p> >docker exec -it container-id command </p>
            <br />
            <p>
                >docker run -i -t container-id sh or bash (to enter container to
                run commands (shell access or bash))
            </p>
            <br />
            <p>
                >docker container inspect containerName (Docker inspect provides
                detailed information on constructs controlled by Docker.)
            </p>
            <br />
            <p>
                >docker container start -ai containerName (to enter already
                built container)
            </p>
            <br />
            <p> >docker image push imageName </p>

            <br />
            <p>
                >Dockerfile<br />
                FROM node:15.14.0-alpine3.10<br />
                WORKDIR /usr/app<br />
                RUN npm install<br />
                COPY ./ ./<br />
                CMD [ "npm", "start" ]<br />
                <br />
                >docker build .<br />
                >docker build -t webdevohelp/nodeApp:latest .<br />
                >docker run -p 8080:8080 webdevohelp/nodeapp #forwards traffic
                on port 8000 to docker's port 8080<br />
            </p>
            <br />
            <p> >DOCKER-COMPOSE </p>
            <br />
            <p>
                >docker-compose.yml<br />

                version: '3'<br />
                services:<br />
                redis-server:<br />
                image: 'redis'<br />
                node-app:<br />
                build: .<br />
                ports:<br />
                - '4001:8081'<br />
            </p>
            <br />
            <p> >docker-compose up -d (to run containers in bg) </p>
            <br />
            <p>
                >docker-compose up --build (to rebuild containers after some
                change)
            </p>
            <br />
            <p> >docker-compose down (to stop running containers) </p>
            <br />
            <p>
                >docker-compose ps (to see running containers ; run in the
                folder that has docker-compose.yml file)
            </p>
        </main>
    </body>
</html>
